{"version":3,"sources":["components/TopNav.js","components/PrivateRoute.js","actions/hotel.js","actions/stripe.js","components/cards/SmallCard.js","components/forms/Search.js","booking/Home.js","actions/auth.js","components/LoginForm.js","auth/Login.js","components/RegisterForm.js","auth/Register.js","components/DashboardNav.js","components/ConnectNav.js","components/modals/OrderModal.js","components/cards/BookingCard.js","user/Dashboard.js","user/DashboardSeller.js","components/forms/HotelCreateForm.js","hotels/NewHotel.js","stripe/StripeCallback.js","components/forms/HotelEditForm.js","hotels/EditHotel.js","hotels/ViewHotel.js","stripe/StripeSuccess.js","stripe/StripeCancel.js","hotels/SearchResult.js","App.js","reducers/auth.js","reportWebVitals.js","reducers/index.js","index.js"],"names":["TopNav","dispatch","useDispatch","auth","useSelector","state","history","useHistory","Navbar","expand","className","Brand","to","Toggle","Collapse","href","onClick","type","payload","window","localStorage","removeItem","push","PrivateRoute","rest","token","createHotel","data","a","axios","post","process","headers","Authorization","allHotels","user","get","diffDays","from","start","Date","end","Math","round","abs","read","hotelId","updateHotel","put","userHotelBookings","isAlreadyBooked","bookHotel","userId","details","searchListings","location","date","bed","email","getAccountStatus","getAccountBalance","currencyFormatter","amount","toLocaleString","currency","style","payoutSetting","stripeSuccessRequest","SmallCard","h","handleHotelDelete","f","owner","showViewMoreButton","CardGroup","Card","image","contentType","src","link","alt","Body","Title","title","price","Text","content","toLocaleDateString","_id","EditOutlined","DeleteOutlined","RangePicker","DatePicker","Option","Select","Search","useState","setLocation","setDate","setBed","placeholder","value","onChange","e","target","onSuggestions","rawAnswer","query","suggestions","console","log","height","dateString","disabledDate","current","valueOf","moment","subtract","size","SearchOutlined","Home","hotels","setHotels","useEffect","loadAllhotels","getItem","JSON","parse","res","class","map","register","login","updateUserInLocalStorage","next","setItem","stringify","LoginForm","handleSubmit","setEmail","password","setPassword","onSubmit","disabled","Login","preventDefault","response","status","toast","error","RegisterForm","name","setName","Register","success","DashboardNav","active","pathname","Meta","Ribbon","Badge","ConnectNav","setLoading","balance","setBalance","then","handlePayoutSettings","url","avatar","description","createdAt","fromNow","stripe_seller","charges_enabled","text","color","pending","bp","i","SettingOutlined","OrderModal","session","showModal","orderedBy","setShowModal","visible","onCancel","intent","purchase_units","currency_code","toUpperCase","payer","payer_id","given_name","surname","BookingCard","hotel","substring","Dashboard","booking","setBooking","loadUserBookings","b","DashboardSeller","setUser","newData","HomeOutlined","config","appId","apiKey","language","HotelCreateForm","values","setValues","handleChange","handleImageChange","accept","hidden","defaultValue","options","suggestion","NewHotel","preview","setPreview","hotelData","FormData","append","setTimeout","reload","URL","createObjectURL","files","StripeCallback","accountStatus","LoadingOutlined","HotelEditForm","length","EditHotel","match","setImage","loadSellerHotel","params","err","ViewHotel","setHotel","loading","alreadyBooked","setAlreadyBooked","show","setShow","setOrderID","handleClick","format","postedBy","layout","createOrder","actions","order","create","application_context","shipping_preference","orderID","onApprove","capture","StripeCancel","SearchResult","queryString","search","App","userState","position","exact","path","component","StripeSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c3980a55.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport {Button, Container, Navbar} from 'react-bootstrap';\nimport '../index.css';\n\nconst TopNav = () => {\n  const dispatch = useDispatch();\n  const { auth } = useSelector((state) => ({ ...state }));\n  const history = useHistory();\n\n  const logout = () => {\n    dispatch({\n      type: \"LOGOUT\",\n      payload: null,\n    });\n    window.localStorage.removeItem(\"auth\");\n    history.push(\"/\");\n  };\n\n  return (\n    <>\n    <Navbar expand=\"sm\" className=\"navbackground\">\n      <Navbar.Brand >\n        <Link className=\"nav-link d-flex align-items-center navbarcolor\" to=\"/\">\n          <h1>Hotels</h1>\n        </Link>\n     </Navbar.Brand> \n     <Navbar.Toggle />\n      <Navbar.Collapse className=\"justify-content-end nav\">  \n        {auth !== null && (\n          <Link className=\"nav-link d-flex align-items-center navbarcolor\" to=\"/dashboard\">\n            Dashboard\n          </Link>\n        )}\n\n        {auth !== null && (\n          <a className=\"nav-link pointer d-flex align-items-center navbarcolor\" href=\"#\" onClick={logout}>\n            Logout\n          </a>\n        )}\n\n        {auth === null && (\n          <>\n            <Link className=\"nav-link d-flex align-items-center navbarcolor\" to=\"/login\">\n              Login\n            </Link>\n            <Link className=\"nav-link d-flex align-items-center navbarcolor\" to=\"/register\">\n             Register\n            </Link>\n          </>\n        )} \n      </Navbar.Collapse>\n    </Navbar>\n    </>\n  );\n};\n\nexport default TopNav;\n","import { Route, Redirect } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nconst PrivateRoute = ({ ...rest }) => {\n  const { auth } = useSelector((state) => ({ ...state }));\n\n  return auth && auth.token ? <Route {...rest} /> : <Redirect to=\"/login\" />;\n};\n\nexport default PrivateRoute;\n","import axios from \"axios\";\n\nexport const createHotel = async (token, data) =>\n  await axios.post(`${process.env.REACT_APP_API}/create-hotel`, data, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\nexport const allHotels = async (user) =>\n  await axios.get(`${process.env.REACT_APP_API}/hotels?user=${user}`);\n\nexport const diffDays = (from, to) => {\n  const day = 24 * 60 * 60 * 1000;\n  const start = new Date(from);\n  const end = new Date(to);\n  const difference = Math.round(Math.abs((start - end) / day));\n  return difference;\n};\n\nexport const sellerHotels = async (token) =>\n  await axios.get(`${process.env.REACT_APP_API}/seller-hotels`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\nexport const deleteHotel = async (token, hotelId) =>\n  await axios.delete(`${process.env.REACT_APP_API}/delete-hotel/${hotelId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\nexport const read = async (hotelId) =>\n  await axios.get(`${process.env.REACT_APP_API}/hotel/${hotelId}`);\n\nexport const updateHotel = async (token, data, hotelId) =>\n  await axios.put(\n    `${process.env.REACT_APP_API}/update-hotel/${hotelId}`,\n    data,\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\nexport const userHotelBookings = async (token) =>\n  await axios.get(`${process.env.REACT_APP_API}/user-hotel-bookings`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\nexport const isAlreadyBooked = async (token, hotelId) =>\n  await axios.get(`${process.env.REACT_APP_API}/is-already-booked/${hotelId}`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\nexport const bookHotel = async (token, userId, hotelId,details) =>\n  await axios.post(`${process.env.REACT_APP_API}/book-hotel?hotelId=${hotelId}&userId=${userId}`,details, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    }\n  });\n\nexport const searchListings = async (location,date,bed,email) =>\n  await axios.get(`${process.env.REACT_APP_API}/search-listings?location=${location}&date=${date}&bed=${bed}&user=${email}`)\n","import axios from \"axios\";\n\nexport const createConnectAccount = async (token) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/create-connect-account`,\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\nexport const getAccountStatus = async (token) =>\n  axios.post(\n    `${process.env.REACT_APP_API}/get-account-status`,\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\nexport const getAccountBalance = async (token) =>\n  axios.post(\n    `${process.env.REACT_APP_API}/get-account-balance`,\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\nexport const currencyFormatter = (data) => {\n  return (data.amount / 100).toLocaleString(data.currency, {\n    style: \"currency\",\n    currency: data.currency,\n  });\n};\n\nexport const payoutSetting = async (token) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/payout-setting`,\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\nexport const getSessionId = async (token, hotelId) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/stripe-session-id`,\n    {\n      hotelId,\n    },\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\nexport const stripeSuccessRequest = async (token, hotelId) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/stripe-success`,\n    { hotelId },\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n","import { currencyFormatter } from \"../../actions/stripe\";\nimport { diffDays } from \"../../actions/hotel\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport Card from 'react-bootstrap/Card';\nimport CardGroup from 'react-bootstrap/CardGroup';\n\nconst SmallCard = ({\n  h,\n  handleHotelDelete = (f) => f,\n  owner = false,\n  showViewMoreButton = true,\n}) => {\n  const history = useHistory();\n  return (\n    <>\n         <div className=\"col-lg-4 col-md-6\"> \n         <CardGroup> \n        <Card className=\"text-center m-1\">\n            {h.image && h.image.contentType ? (\n              <img\n                src={h.image.link}\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            ) : (\n              <img\n                src=\"https://via.placeholder.com/900x500.png?text=MERN+Booking\"\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            )}\n         <Card.Body>\n        <Card.Title>\n                {h.title}{\" \"}\n                <span className=\"float-right text-primary\">\n                  {currencyFormatter({\n                    amount: h.price*100,\n                    currency: \"CAD\",\n                  })}\n                </span>{\" \"}</Card.Title>\n      \n                <Card.Text>{h.location}</Card.Text>\n                <Card.Text>{h.content}</Card.Text>\n             \n                <Card.Text> <span>\n                  for {diffDays(h.from, h.to)}{\" \"}\n                  {diffDays(h.from, h.to) <= 1 ? \" day\" : \" days\"}\n                </span></Card.Text>\n              \n                <Card.Text>{h.bed} bed</Card.Text>\n                <Card.Text>\n                Available from {new Date(h.from).toLocaleDateString()}\n                </Card.Text>\n\n              <div className=\"d-flex justify-content-between h4\">\n                {showViewMoreButton && (\n                  <button\n                    onClick={() => history.push(`/hotel/${h._id}`)}\n                    className=\"btn btn-primary\"\n                  >\n                    Show more\n                  </button>\n                )}\n                {owner && (\n                  <>\n                    <Link to={`/hotel/edit/${h._id}`}>\n                      <EditOutlined className=\"text-warning\" />\n                    </Link>\n                    <DeleteOutlined\n                      onClick={() => handleHotelDelete(h._id)}\n                      className=\"text-danger\"\n                    />\n                  </>\n                )}\n              </div>\n           </Card.Body>\n           </Card>\n           </CardGroup>  \n           </div>\n    </>\n  );\n};\n\nexport default SmallCard;\n","import React, { useState } from \"react\";\nimport { DatePicker, Select, Input } from \"antd\";\nimport { SearchOutlined } from \"@ant-design/icons\";\nimport AlgoliaPlaces from \"algolia-places-react\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\n\n\n// destructure values from ant components\nconst { RangePicker } = DatePicker;\nconst { Option } = Select;\n\nconst config = {\n  appId: process.env.REACT_APP_ALGOLIA_APP_ID,\n  apiKey: process.env.REACT_APP_ALGOLIA_API_KEY,\n  language: \"en\",\n  // countries: [\"au\"],\n};\n\nconst Search = () => {\n  // state\n  const [location, setLocation] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [bed, setBed] = useState(\"\");\n  // route\n  const history = useHistory();\n\n  const handleSubmit = () => {\n    history.push(`/search-result?location=${location}&date=${date}&bed=${bed}`);\n  };\n\n  return (\n    <div className=\"d-flex flex-row pb-4 m-3\">\n      <div className=\"w-100\">\n        <Input\n          placeholder=\"Location\"\n          value={location}\n          onChange={(e) => {setLocation(e.target.value)}}\n          \n\n      onSuggestions={({ rawAnswer, query, suggestions }) => \n      console.log(rawAnswer,query,suggestions)}\n          style={{ height: \"50px\" }}\n        />\n      </div>\n\n      <RangePicker\n        onChange={(value, dateString) => setDate(dateString)}\n        disabledDate={(current) =>\n          current && current.valueOf() < moment().subtract(1, \"days\")\n        }\n        className=\"w-100\"\n      />\n\n      <Select\n        onChange={(value) => setBed(value)}\n        className=\"w-100\"\n        size=\"large\"\n        placeholder=\"Number of beds\"\n      >\n        <Option key={1}>{1}</Option>\n        <Option key={2}>{2}</Option>\n        <Option key={3}>{3}</Option>\n        <Option key={4}>{4}</Option>\n      </Select>\n\n      <SearchOutlined\n        onClick={handleSubmit}\n        className=\"btn btn-primary p-3 btn-square\"\n      />\n    </div>\n  );\n};\n\nexport default Search;\n","import { useState, useEffect } from \"react\";\nimport { allHotels } from \"../actions/hotel\";\nimport SmallCard from \"../components/cards/SmallCard\";\nimport Search from \"../components/forms/Search\";\nimport '../index.css';\nimport CardGroup from 'react-bootstrap/CardGroup';\n\nconst Home = () => {\n  const [hotels, setHotels] = useState([]);\n\n  useEffect(() => {\n    loadAllhotels();\n  }, []);\n\n  const loadAllhotels = async () => {\n    if(window.localStorage.getItem('auth')){\n      const data = JSON.parse(window.localStorage.getItem('auth'))\n      const user = data.user.email\n      let res = await allHotels(user);\n      setHotels(res.data);\n    }else{\n      const user = null\n      let res = await allHotels(user);\n      setHotels(res.data);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"showcase\">\n      <div class=\"container\">\n        <h1>Find your next stay</h1>\n        <h3>Search hotels, homes, and much more...</h3>\n      </div>\n      </div>\n      <div className=\"col\">\n        <br />\n        <Search />\n      </div>\n      <div className=\"container-fluid\">\n        <br />\n        {/* <pre>{JSON.stringify(hotels, null, 4)}</pre> */}\n        <CardGroup> \n        {hotels.map((h) => (\n          <SmallCard key={h._id} h={h} />\n        ))}\n        </CardGroup>\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n","import axios from \"axios\";\n\nexport const register = async (user) =>\n  await axios.post(`${process.env.REACT_APP_API}/register`, user);\n\nexport const login = async (user) =>\n  await axios.post(`${process.env.REACT_APP_API}/login`, user);\n\n// update user in local storage\nexport const updateUserInLocalStorage = (user, next) => {\n  if (window.localStorage.getItem(\"auth\")) {\n    let auth = JSON.parse(localStorage.getItem(\"auth\"));\n    auth.user = user;\n    localStorage.setItem(\"auth\", JSON.stringify(auth));\n    next();\n  }\n};\n","const LoginForm = ({\n  handleSubmit,\n  email,\n  setEmail,\n  password,\n  setPassword,\n}) => (\n  <form onSubmit={handleSubmit} className=\"mt-3\">\n    <div className=\"form-group mb-3\">\n      <label className=\"form-label\">Email address</label>\n      <input\n        type=\"email\"\n        className=\"form-control\"\n        placeholder=\"Enter email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n    </div>\n\n    <div className=\"form-group mb-3\">\n      <label className=\"form-label\">Password</label>\n      <input\n        type=\"password\"\n        className=\"form-control\"\n        placeholder=\"Enter password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n    </div>\n\n    <button disabled={!email || !password} className=\"btn btn-primary\">\n      Submit\n    </button>\n  </form>\n);\n\nexport default LoginForm;\n","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { login } from \"../actions/auth\";\nimport LoginForm from \"../components/LoginForm\";\nimport { useDispatch } from \"react-redux\";\n\nconst Login = ({ history }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const dispatch = useDispatch();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    console.log(\"SEND LOGIN DATA\", { email, password });\n    try {\n      let res = await login({ email, password });\n\n      if (res.data) {\n        console.log(res.data)\n        console.log(\n          \"SAVE USER RES IN REDUX AND LOCAL STORAGE THEN REDIRECT ===> \"\n        );\n        // console.log(res.data);\n        // save user and token to local storage\n        window.localStorage.setItem(\"auth\", JSON.stringify(res.data));\n        // save user and token to redux\n        dispatch({\n          type: \"LOGGED_IN_USER\",\n          payload: res.data,\n        });\n        history.push(\"/dashboard\");\n      }\n    } catch (err) {\n      console.log(err);\n      if (err.response.status === 400) toast.error(err.response.data);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid p-5 text-center\">\n        <h1>Login</h1>\n      </div>\n\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3\">\n            <LoginForm\n              handleSubmit={handleSubmit}\n              email={email}\n              setEmail={setEmail}\n              password={password}\n              setPassword={setPassword}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n","const RegisterForm = ({\n  handleSubmit,\n  name,\n  setName,\n  email,\n  setEmail,\n  password,\n  setPassword,\n}) => (\n  <form onSubmit={handleSubmit} className=\"mt-3\">\n    <div className=\"form-group mb-3\">\n      <label className=\"form-label\">Your name</label>\n      <input\n        type=\"text\"\n        className=\"form-control\"\n        placeholder=\"Enter name\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n      />\n    </div>\n\n    <div className=\"form-group mb-3\">\n      <label className=\"form-label\">Email address</label>\n      <input\n        type=\"email\"\n        className=\"form-control\"\n        placeholder=\"Enter email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n    </div>\n\n    <div className=\"form-group mb-3\">\n      <label className=\"form-label\">Password</label>\n      <input\n        type=\"password\"\n        className=\"form-control\"\n        placeholder=\"Enter password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n    </div>\n\n    <button disabled={!name || !email || !password} className=\"btn btn-primary\">\n      Submit\n    </button>\n  </form>\n);\n\nexport default RegisterForm;\n","import { useState } from \"react\";\nimport RegisterForm from \"../components/RegisterForm\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { register } from \"../actions/auth\";\n\nconst Register = ({ history }) => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const res = await register({\n        name,\n        email,\n        password,\n      });\n      console.log(\"REGISTER USER ===> \", res);\n      toast.success(\"Register success. Please login.\");\n      history.push(\"/login\");\n    } catch (err) {\n      console.log(err);\n      if (err.response.status === 400) toast.error(err.response.data);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid p-5 text-center\">\n        <h1>Register</h1>\n      </div>\n\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3\">\n            <RegisterForm\n              handleSubmit={handleSubmit}\n              name={name}\n              setName={setName}\n              email={email}\n              setEmail={setEmail}\n              password={password}\n              setPassword={setPassword}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Register;\n","import { Link } from \"react-router-dom\";\n\nconst DashboardNav = () => {\n  const active = window.location.pathname;\n  //   console.log(active);\n  return (\n    <ul className=\"nav nav-tabs\">\n      <li className=\"nav-item\">\n        <Link\n          className={`nav-link ${active === \"/dashboard\" && \"active\"}`}\n          to=\"/dashboard\"\n        >\n          Your Bookings\n        </Link>\n      </li>\n      <li className=\"nav-item\">\n        <Link\n          className={`nav-link ${active === \"/dashboard/seller\" && \"active\"}`}\n          to=\"/dashboard/seller\"\n        >\n          Your Profile\n        </Link>\n      </li>\n    </ul>\n  );\n};\n\nexport default DashboardNav;\n","import { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Card, Avatar, Badge } from \"antd\";\nimport moment from \"moment\";\nimport {\n  getAccountBalance,\n  currencyFormatter,\n  payoutSetting,\n} from \"../actions/stripe\";\nimport { SettingOutlined } from \"@ant-design/icons\";\nimport { toast } from \"react-toastify\";\n\nconst { Meta } = Card;\nconst { Ribbon } = Badge;\n\nconst ConnectNav = () => {\n  const [loading, setLoading] = useState(false);\n  const [balance, setBalance] = useState(0);\n  const { auth } = useSelector((state) => ({ ...state }));\n  const { user, token } = auth;\n\n  useEffect(() => {\n    getAccountBalance(auth.token).then((res) => {\n      // console.log(res);\n      setBalance(res.data);\n    });\n  }, []);\n\n  const handlePayoutSettings = async () => {\n    setLoading(true);\n    try {\n      const res = await payoutSetting(token);\n      // console.log(\"RES FOR PAYOUT SETTING LINK\", res);\n      window.location.href = res.data.url;\n      setLoading(false);\n    } catch (err) {\n      console.log(err);\n      setLoading(false);\n      toast(\"Unable to access settings. Try again\");\n    }\n  };\n\n  return (\n    <div className=\"d-flex justify-content-around\">\n      <Card>\n        <Meta\n          avatar={<Avatar>{user.name[0]}</Avatar>}\n          title={user.name}\n          description={`Joined ${moment(user.createdAt).fromNow()}`}\n        />\n      </Card>\n      {auth &&\n        auth.user &&\n        auth.user.stripe_seller &&\n        auth.user.stripe_seller.charges_enabled && (\n          <>\n            <Ribbon text=\"Avaliable\" color=\"grey\">\n              <Card className=\"bg-light pt-1\">\n                {balance &&\n                  balance.pending &&\n                  balance.pending.map((bp, i) => (\n                    <span key={i} className=\"lead\">\n                      {currencyFormatter(bp)}\n                    </span>\n                  ))}\n              </Card>\n            </Ribbon>\n            <Ribbon text=\"Payouts\" color=\"silver\">\n              <Card onClick={handlePayoutSettings} className=\"bg-light pointer\">\n                <SettingOutlined className=\"h5 pt-2\" />\n              </Card>\n            </Ribbon>\n          </>\n        )}\n    </div>\n  );\n};\n\nexport default ConnectNav;\n","import { Modal } from \"antd\";\n\nconst OrderModal = ({ session, orderedBy, showModal, setShowModal }) => {\n  return (\n    <Modal\n      visible={showModal}\n      title=\"Order payment info\"\n      onCancel={() => setShowModal(!showModal)}\n    >\n      <p>Payment intent: {session.intent}</p>\n      <p>Payment status: {session.status}</p>\n      <p>\n        Amount total: {session.purchase_units[0].amount.currency_code.toUpperCase()}{\" \"}\n        {session.purchase_units[0].amount.value}\n      </p>\n      <p>Customer id: {session.payer.payer_id}</p>\n      <p>Customer: {session.payer.name.given_name + \" \" +session.payer.name.surname}</p>\n    </Modal>\n  );\n};\n\nexport default OrderModal;\n","import { useState } from \"react\";\nimport { currencyFormatter } from \"../../actions/stripe\";\nimport { diffDays } from \"../../actions/hotel\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport OrderModal from \"../modals/OrderModal\";\n\nconst BookingCard = ({ hotel, session, orderedBy }) => {\n  const [showModal, setShowModal] = useState(false);\n\n  const history = useHistory();\n  return (\n    <>\n      <div className=\"card mb-3\">\n        <div className=\"row no-gutters\">\n          <div className=\"col-md-4\">\n            {hotel.image && hotel.image.contentType ? (\n              <img\n                src={hotel.image.link}\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            ) : (\n              <img\n                src=\"https://via.placeholder.com/900x500.png?text=MERN+Booking\"\n                alt=\"default hotel image\"\n                className=\"card-image img img-fluid\"\n              />\n            )}\n          </div>\n          <div className=\"col-md-8\">\n            <div className=\"card-body\">\n              <h3 className=\"card-title\">\n                {hotel.title}{\" \"}\n                <span className=\"float-right text-primary\">\n                  {currencyFormatter({\n                    amount: hotel.price * 100,\n                    currency: \"CAD\",\n                  })}\n                </span>{\" \"}\n              </h3>\n              <p className=\"alert alert-info\">{hotel.location}</p>\n              <p className=\"card-text\">{`${hotel.content.substring(\n                1,\n                200\n              )}...`}</p>\n              <p className=\"card-text\">\n                <span className=\"float-right text-primary\">\n                  for {diffDays(hotel.from, hotel.to)}{\" \"}\n                  {diffDays(hotel.from, hotel.to) <= 1 ? \" day\" : \" days\"}\n                </span>\n              </p>\n              <p className=\"card-text\">{hotel.bed} bed</p>\n              <p className=\"card-text\">\n                Available from {new Date(hotel.from).toLocaleDateString()}\n              </p>\n\n              {showModal && (\n                <OrderModal\n                  session={session}\n                  orderedBy={orderedBy}\n                  showModal={showModal}\n                  setShowModal={setShowModal}\n                />\n              )}\n\n              <div className=\"d-flex justify-content-between h4\">\n                <button\n                  onClick={() => setShowModal(!showModal)}\n                  className=\"btn btn-primary\"\n                >\n                  Show Payment info\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default BookingCard;\n","import DashboardNav from \"../components/DashboardNav\";\nimport ConnectNav from \"../components/ConnectNav\";\nimport { Link } from \"react-router-dom\";\nimport { userHotelBookings } from \"../actions/hotel\";\nimport { useSelector } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport BookingCard from \"../components/cards/BookingCard\";\n\nconst Dashboard = () => {\n  const {\n    auth: { token },\n  } = useSelector((state) => ({ ...state }));\n  const [booking, setBooking] = useState([]);\n\n  useEffect(() => {\n    loadUserBookings();\n  }, []);\n\n  const loadUserBookings = async () => {\n    const res = await userHotelBookings(token);\n    console.log(res);\n    setBooking(res.data);\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid p-5\">\n        <ConnectNav />\n      </div>\n\n      <div className=\"container-fluid p-4\">\n        <DashboardNav />\n      </div>\n\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10\">\n            <h2>Your Bookings</h2>\n          </div>\n          <div className=\"col-md-2\">\n            <Link to=\"/\" className=\"btn btn-primary\">\n              Pro\n            </Link>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        {booking.map((b) => (\n          <BookingCard\n            key={b._id}\n            hotel={b.hotel}\n            session={b.session}\n            orderedBy={b.orderedBy.name}\n          />\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default Dashboard;\n","import { useState, useEffect } from \"react\";\nimport DashboardNav from \"../components/DashboardNav\";\nimport ConnectNav from \"../components/ConnectNav\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { HomeOutlined } from \"@ant-design/icons\";\nimport { createConnectAccount } from \"../actions/stripe\";\nimport { sellerHotels, deleteHotel } from \"../actions/hotel\";\nimport { toast } from \"react-toastify\";\nimport SmallCard from \"../components/cards/SmallCard\";\n\nconst DashboardSeller = () => {\n // const { auth } = useSelector((state) => ({ ...state }));\n  const [hotels, setHotels] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [user,setUser] = useState({\"name\":\"\",\"email\":\"\"})\n\n  useEffect(() => {\n    //loadSellersHotels();\n    const data=JSON.parse(window.localStorage.getItem('auth'))\n    const newData = {\"name\":data.user.name,\"email\":data.user.email}\n    setUser(newData)\n  });\n\n  //const loadSellersHotels = async () => {\n  //  //let { data } = await sellerHotels(auth.token);\n  //  //setHotels(data);\n  //  const data=JSON.parse(window.localStorage.getItem('auth'))\n  //  console.log(data.user)\n  //  //setUser(data)\n  //};\n\n  //const handleClick = async () => {\n  //  setLoading(true);\n  //  try {\n  //    let res = await createConnectAccount(auth.token);\n  //    console.log(res); // get login link\n  //    window.location.href = res.data;\n  //  } catch (err) {\n  //    console.log(err);\n  //    toast.error(\"Stripe connect failed, Try again.\");\n  //    setLoading(false);\n  //  }\n  //};\n\n  //const handleHotelDelete = async (hotelId) => {\n  //  if (!window.confirm(\"Are you sure?\")) return;\n  //  deleteHotel(auth.token, hotelId).then((res) => {\n  //    toast.success(\"Hotel Deleted\");\n  //    loadSellersHotels();\n  //  });\n  //};\n\n  //const connected = () => (\n  //  <div className=\"container-fluid\">\n  //    <div className=\"row\">\n  //      <div className=\"col-md-10\">\n  //        <h2>Your Hotels</h2>\n  //      </div>\n  //      <div className=\"col-md-2\">\n  //        <Link to=\"/hotels/new\" className=\"btn btn-primary\">\n  //          + Add New\n  //        </Link>\n  //      </div>\n  //    </div>\n//\n  //    <div className=\"row\">\n  //      {hotels.map((h) => (\n  //        <SmallCard\n  //          key={h._id}\n  //          h={h}\n  //          showViewMoreButton={false}\n  //          owner={true}\n  //          handleHotelDelete={handleHotelDelete}\n  //        />\n  //      ))}\n  //    </div>\n  //  </div>\n  //);\n\n  //const notConnected = () => (\n  //  <div className=\"container-fluid\">\n  //    <div className=\"row\">\n  //      <div className=\"col-md-6 offset-md-3 text-center\">\n  //        <div className=\"p-5 pointer\">\n  //          <HomeOutlined className=\"h1\" />\n//\n  //        </div>\n  //      </div>\n  //    </div>\n  //  </div>\n  //);\n\n  return (\n    <>\n      <div className=\"container-fluid p-5\">\n        <ConnectNav />\n      </div>\n\n      <div className=\"container-fluid p-4\">\n        <DashboardNav />\n      </div>\n\n      <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3 text-center\">\n          <div className=\"p-5 pointer\">\n            <HomeOutlined className=\"h1\" />\n            <h4>Name : {user.name} </h4>\n            <h4>Email : {user.email} </h4>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    </>\n  );\n};\n\nexport default DashboardSeller;\n","import AlgoliaPlaces from \"algolia-places-react\";\nimport { DatePicker, Select } from \"antd\";\nimport moment from \"moment\";\n\nconst { Option } = Select;\n\nconst config = {\n  appId: process.env.REACT_APP_ALGOLIA_APP_ID,\n  apiKey: process.env.REACT_APP_ALGOLIA_API_KEY,\n  language: \"en\",\n  // countries: [\"au\"],\n};\n\nconst HotelCreateForm = ({\n  values,\n  setValues,\n  handleChange,\n  handleImageChange,\n  handleSubmit,\n  location,\n  setLocation,\n}) => {\n  const { title, content, price } = values;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label className=\"btn btn-outline-secondary btn-block m-2 text-left\">\n          Image\n          <input\n            type=\"file\"\n            name=\"image\"\n            onChange={handleImageChange}\n            accept=\"image/*\"\n            hidden\n          />\n        </label>\n\n        <input\n          type=\"text\"\n          name=\"title\"\n          onChange={handleChange}\n          placeholder=\"Title\"\n          className=\"form-control m-2\"\n          value={title}\n        />\n\n        <textarea\n          name=\"content\"\n          onChange={handleChange}\n          placeholder=\"Content\"\n          className=\"form-control m-2\"\n          value={content}\n        />\n\n        <AlgoliaPlaces\n          className=\"form-control m-2\"\n          placeholder=\"Location\"\n          defaultValue={location}\n          options={config}\n          onChange={({ suggestion }) => setLocation(suggestion.value)}\n          style={{ height: \"50px\" }}\n        />\n\n        <input\n          type=\"number\"\n          name=\"price\"\n          onChange={handleChange}\n          placeholder=\"Price\"\n          className=\"form-control m-2\"\n          value={price}\n        />\n\n        <Select\n          onChange={(value) => setValues({ ...values, bed: value })}\n          className=\"w-100 m-2\"\n          size=\"large\"\n          placeholder=\"Number of beds\"\n        >\n          <Option key={1}>{1}</Option>\n          <Option key={2}>{2}</Option>\n          <Option key={3}>{3}</Option>\n          <Option key={4}>{4}</Option>\n        </Select>\n      </div>\n\n      <DatePicker\n        placeholder=\"From date\"\n        className=\"form-control m-2\"\n        onChange={(date, dateString) =>\n          setValues({ ...values, from: dateString })\n        }\n        disabledDate={(current) =>\n          current && current.valueOf() < moment().subtract(1, \"days\")\n        }\n      />\n\n      <DatePicker\n        placeholder=\"To date\"\n        className=\"form-control m-2\"\n        onChange={(date, dateString) =>\n          setValues({ ...values, to: dateString })\n        }\n        disabledDate={(current) =>\n          current && current.valueOf() < moment().subtract(1, \"days\")\n        }\n      />\n\n      <button className=\"btn btn-outline-primary m-2\">Save</button>\n    </form>\n  );\n};\n\nexport default HotelCreateForm;\n","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { DatePicker, Select } from \"antd\";\nimport { createHotel } from \"../actions/hotel\";\nimport { useSelector } from \"react-redux\";\nimport HotelCreateForm from \"../components/forms/HotelCreateForm\";\n\nconst { Option } = Select;\n\nconst NewHotel = () => {\n  // redux\n  const { auth } = useSelector((state) => ({ ...state }));\n  const { token } = auth;\n  // state\n  const [values, setValues] = useState({\n    title: \"\",\n    content: \"\",\n    image: \"\",\n    price: \"\",\n    from: \"\",\n    to: \"\",\n    bed: \"\",\n  });\n  const [preview, setPreview] = useState(\n    \"https://via.placeholder.com/100x100.png?text=PREVIEW\"\n  );\n  const [location, setLocation] = useState(\"\");\n  // destructuring variables from state\n  const { title, content, image, price, from, to, bed } = values;\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // console.log(values);\n    // console.log(location);\n\n    let hotelData = new FormData();\n    hotelData.append(\"title\", title);\n    hotelData.append(\"content\", content);\n    hotelData.append(\"location\", location);\n    hotelData.append(\"price\", price);\n    image && hotelData.append(\"image\", image);\n    hotelData.append(\"from\", from);\n    hotelData.append(\"to\", to);\n    hotelData.append(\"bed\", bed);\n\n    console.log([...hotelData]);\n\n    try {\n      let res = await createHotel(token, hotelData);\n      console.log(\"HOTEL CREATE RES\", res);\n      toast.success(\"New hotel is posted\");\n      setTimeout(() => {\n        window.location.reload();\n      }, 1000);\n    } catch (err) {\n      console.log(err);\n      toast.error(err.response.data);\n    }\n  };\n\n  const handleImageChange = (e) => {\n    // console.log(e.target.files[0]);\n    setPreview(URL.createObjectURL(e.target.files[0]));\n    setValues({ ...values, image: e.target.files[0] });\n  };\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-secondary p-5 text-center\">\n        <h2>Add Hotel</h2>\n      </div>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10\">\n            <br />\n            <HotelCreateForm\n              values={values}\n              setValues={setValues}\n              handleChange={handleChange}\n              handleImageChange={handleImageChange}\n              handleSubmit={handleSubmit}\n              location={location}\n              setLocation={setLocation}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <img\n              src={preview}\n              alt=\"preview_image\"\n              className=\"img img-fluid m-2\"\n            />\n            <pre>{JSON.stringify(values, null, 4)}</pre>\n            {JSON.stringify(location)}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default NewHotel;\n","import { useEffect } from \"react\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getAccountStatus } from \"../actions/stripe\";\nimport { updateUserInLocalStorage } from \"../actions/auth\";\n\nconst StripeCallback = ({ history }) => {\n  const { auth } = useSelector((state) => ({ ...state }));\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (auth && auth.token) accountStatus();\n  }, [auth]);\n\n  const accountStatus = async () => {\n    try {\n      const res = await getAccountStatus(auth.token);\n      // console.log(\"USER ACCOUNT STATUS ON STRIPE CALLBACK\", res);\n      // update user in local storage\n      updateUserInLocalStorage(res.data, () => {\n        // update user in redux\n        dispatch({\n          type: \"LOGGED_IN_USER\",\n          payload: res.data,\n        });\n        // redirect user to dashboard\n        window.location.href = \"/dashboard/seller\";\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"d-flex justify-content-center p-5\">\n      <LoadingOutlined className=\"display-1 p-5 text-danger\" />\n    </div>\n  );\n};\n\nexport default StripeCallback;\n","import AlgoliaPlaces from \"algolia-places-react\";\nimport { DatePicker, Select } from \"antd\";\nimport moment from \"moment\";\n\nconst { Option } = Select;\n\nconst config = {\n  appId: process.env.REACT_APP_ALGOLIA_APP_ID,\n  apiKey: process.env.REACT_APP_ALGOLIA_API_KEY,\n  language: \"en\",\n  // countries: [\"au\"],\n};\n\nconst HotelEditForm = ({\n  values,\n  setValues,\n  handleChange,\n  handleImageChange,\n  handleSubmit,\n}) => {\n  const { title, content, location, price, bed, from, to } = values;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label className=\"btn btn-outline-secondary btn-block m-2 text-left\">\n          Image\n          <input\n            type=\"file\"\n            name=\"image\"\n            onChange={handleImageChange}\n            accept=\"image/*\"\n            hidden\n          />\n        </label>\n\n        <input\n          type=\"text\"\n          name=\"title\"\n          onChange={handleChange}\n          placeholder=\"Title\"\n          className=\"form-control m-2\"\n          value={title}\n        />\n\n        <textarea\n          name=\"content\"\n          onChange={handleChange}\n          placeholder=\"Content\"\n          className=\"form-control m-2\"\n          value={content}\n        />\n\n        {location && location.length && (\n          <AlgoliaPlaces\n            className=\"form-control m-2\"\n            placeholder=\"Location\"\n            defaultValue={location}\n            options={config}\n            onChange={({ suggestion }) =>\n              setValues({ ...values, location: suggestion.value })\n            }\n            style={{ height: \"50px\" }}\n          />\n        )}\n\n        <input\n          type=\"number\"\n          name=\"price\"\n          onChange={handleChange}\n          placeholder=\"Price\"\n          className=\"form-control m-2\"\n          value={price}\n        />\n\n        <Select\n          onChange={(value) => setValues({ ...values, bed: value })}\n          className=\"w-100 m-2\"\n          size=\"large\"\n          placeholder=\"Number of beds\"\n          value={bed}\n        >\n          <Option key={1}>{1}</Option>\n          <Option key={2}>{2}</Option>\n          <Option key={3}>{3}</Option>\n          <Option key={4}>{4}</Option>\n        </Select>\n      </div>\n\n      {from && (\n        <DatePicker\n          defaultValue={moment(from, \"YYYY-MM-DD\")}\n          placeholder=\"From date\"\n          className=\"form-control m-2\"\n          onChange={(date, dateString) =>\n            setValues({ ...values, from: dateString })\n          }\n          disabledDate={(current) =>\n            current && current.valueOf() < moment().subtract(1, \"days\")\n          }\n        />\n      )}\n\n      {to && (\n        <DatePicker\n          defaultValue={moment(to, \"YYYY-MM-DD\")}\n          placeholder=\"To date\"\n          className=\"form-control m-2\"\n          onChange={(date, dateString) =>\n            setValues({ ...values, to: dateString })\n          }\n          disabledDate={(current) =>\n            current && current.valueOf() < moment().subtract(1, \"days\")\n          }\n        />\n      )}\n\n      <button className=\"btn btn-outline-primary m-2\">Save</button>\n    </form>\n  );\n};\n\nexport default HotelEditForm;\n","import { useState, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { DatePicker, Select } from \"antd\";\nimport { read, updateHotel } from \"../actions/hotel\";\nimport { useSelector } from \"react-redux\";\nimport HotelEditForm from \"../components/forms/HotelEditForm\";\n\nconst { Option } = Select;\n\nconst EditHotel = ({ match }) => {\n  // redux\n  const { auth } = useSelector((state) => ({ ...state }));\n  const { token } = auth;\n  // state\n  const [values, setValues] = useState({\n    title: \"\",\n    content: \"\",\n    location: \"\",\n    price: \"\",\n    from: \"\",\n    to: \"\",\n    bed: \"\",\n  });\n  const [image, setImage] = useState(\"\");\n  const [preview, setPreview] = useState(\n    \"https://via.placeholder.com/100x100.png?text=PREVIEW\"\n  );\n  // destructuring variables from state\n  const { title, content, price, from, to, bed, location } = values;\n\n  useEffect(() => {\n    loadSellerHotel();\n  }, []);\n\n  const loadSellerHotel = async () => {\n    let res = await read(match.params.hotelId);\n    // console.log(res);\n    setValues({ ...values, ...res.data });\n    setPreview(`${process.env.REACT_APP_API}/hotel/image/${res.data._id}`);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    let hotelData = new FormData();\n    hotelData.append(\"title\", title);\n    hotelData.append(\"content\", content);\n    hotelData.append(\"location\", location);\n    hotelData.append(\"price\", price);\n    image && hotelData.append(\"image\", image);\n    hotelData.append(\"from\", from);\n    hotelData.append(\"to\", to);\n    hotelData.append(\"bed\", bed);\n\n    try {\n      let res = await updateHotel(token, hotelData, match.params.hotelId);\n      console.log(\"HOTEL UPDATE RES\", res);\n      toast.success(`${res.data.title} is updated`);\n    } catch (err) {\n      console.log(err);\n      toast.error(err.response.data.err);\n    }\n  };\n\n  const handleImageChange = (e) => {\n    // console.log(e.target.files[0]);\n    setPreview(URL.createObjectURL(e.target.files[0]));\n    setImage(e.target.files[0]);\n  };\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid bg-secondary p-5 text-center\">\n        <h2>Edit Hotel</h2>\n      </div>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-10\">\n            <br />\n            <HotelEditForm\n              values={values}\n              setValues={setValues}\n              handleChange={handleChange}\n              handleImageChange={handleImageChange}\n              handleSubmit={handleSubmit}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <img\n              src={preview}\n              alt=\"preview_image\"\n              className=\"img img-fluid m-2\"\n            />\n            <pre>{JSON.stringify(values, null, 4)}</pre>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default EditHotel;\n","import React, { useState, useEffect } from \"react\";\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\nimport { read, diffDays, isAlreadyBooked, bookHotel } from \"../actions/hotel\";\nimport { getSessionId } from \"../actions/stripe\";\nimport moment from \"moment\";\nimport { useSelector } from \"react-redux\";\nimport { loadStripe } from \"@stripe/stripe-js\";\n\nconst ViewHotel = ({ match, history }) => {\n  const [hotel, setHotel] = useState({});\n  const [image, setImage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [alreadyBooked, setAlreadyBooked] = useState(false);\n  const [show, setShow] = useState(false)\n  const [success, setSuccess] = useState(false);\n  const [ErrorMessage, setErrorMessage] = useState(\"\");\n  const [orderID, setOrderID] = useState();\n\n  const { auth } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadSellerHotel();\n  }, []);\n\n  const loadSellerHotel = async () => {\n    let res = await read(match.params.hotelId);\n    setHotel(res.data);\n    setImage(res.data.image.link);\n    if (auth && auth.token) {\n      isAlreadyBooked(auth.token, match.params.hotelId).then((res) => {\n        if (res.data){\n          setAlreadyBooked(true)\n        } ;\n      });\n    }\n  };\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n\n    if (!auth || !auth.token) {\n      history.push(\"/login\");\n      setLoading(true);\n    } else {\n      setShow(true)\n    }\n  };\n\n  // creates a paypal order\n  const createOrder = (data, actions) => {\n    return actions.order\n      .create({\n        purchase_units: [\n          {\n            description: hotel.name,\n            amount: {\n              currency_code: \"CAD\",\n              value: hotel.price,\n            },\n          },\n        ],\n        // not needed if a shipping address is actually needed\n        application_context: {\n          shipping_preference: \"NO_SHIPPING\",\n        },\n      })\n      .then((orderID) => {\n        setOrderID(orderID);\n        return orderID;\n      });\n  };\n  // check Approval\n  const onApprove = (data, actions) => {\n    return actions.order.capture().then(function (details) {\n      const data = JSON.parse(window.localStorage.getItem('auth'))\n      bookHotel(data.token,data.user._id,hotel._id,details).then(\n        res=>{\n          history.push('/dashboard')\n        }\n      )\n    });\n  };\n  //capture likely error\n  const onError = (data, actions) => {\n    console.log(\"on error block executed\")\n    setErrorMessage(\"An Error occured with your payment \");\n  };\n\n  return (\n    <>  <PayPalScriptProvider\n      options={{\n        \"client-id\": \"test\",\n        currency: \"CAD\"\n      }}\n    >\n      <div className=\"container-fluid bg-secondary p-5 text-center\">\n        <h1>{hotel.title}</h1>\n      </div>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <br />\n            <img src={image} alt={hotel.title} className=\"img img-fluid m-2\" />\n          </div>\n\n          <div className=\"col-md-6\">\n            <br />\n            <b>{hotel.content}</b>\n            <p className=\"alert alert-info mt-3\">${hotel.price}</p>\n            <p className=\"card-text\">\n              <span className=\"float-right text-primary\">\n                for {diffDays(hotel.from, hotel.to)}{\" \"}\n                {diffDays(hotel.from, hotel.to) <= 1 ? \" day\" : \" days\"}\n              </span>\n            </p>\n            <p>\n              From <br />{\" \"}\n              {moment(new Date(hotel.from)).format(\"MMMM Do YYYY, h:mm:ss a\")}\n            </p>\n            <p>\n              To <br />{\" \"}\n              {moment(new Date(hotel.to)).format(\"MMMM Do YYYY, h:mm:ss a\")}\n            </p>\n            <i>Posted by {hotel.postedBy && hotel.postedBy.name}</i>\n            <br />\n            {show ? (\n              <PayPalButtons\n                style={{ layout: \"vertical\" }}\n                createOrder={createOrder}\n                onApprove={onApprove}\n              />\n            ) : <button\n              onClick={handleClick}\n              className=\"btn btn-block btn-lg btn-primary mt-3\"\n              disabled={loading || alreadyBooked}\n            >\n              {loading\n                ? \"Loading...\"\n                : alreadyBooked\n                  ? \"Already Booked\"\n                  : auth && auth.token\n                    ? \"Book Now\"\n                    : \"Login to Book\"}\n            </button>}\n          </div>\n        </div>\n      </div>\n    </PayPalScriptProvider>\n    </>\n  );\n};\n\nexport default ViewHotel;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { stripeSuccessRequest } from \"../actions/stripe\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\nconst StripeCancel = ({ match, history }) => {\n  const {\n    auth: { token },\n  } = useSelector((state) => ({ ...state }));\n  // const { token } = auth;\n\n  useEffect(() => {\n    // console.log(\n    //   \"send this hotelid to backend to crate order\",\n    //   match.params.hotelId\n    // );\n    stripeSuccessRequest(token, match.params.hotelId).then((res) => {\n      if (res.data.success) {\n        // console.log(\"stripe success response\", res.data);\n        history.push(\"/dashboard\");\n      } else {\n        history.push(\"/stripe/cancel\");\n      }\n    });\n  }, [match.params.hotelId]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"d-flex justify-content-center p-5\">\n        <LoadingOutlined className=\"display-1 text-danger p-5\" />\n      </div>\n    </div>\n  );\n};\n\nexport default StripeCancel;\n","import React from \"react\";\n\nconst StripeCancel = () => {\n  return (\n    <div className=\"container\">\n      <div className=\"col\">\n        <h2 className=\"text-center p-5\">Payment failed. Try again.</h2>\n      </div>\n    </div>\n  );\n};\n\nexport default StripeCancel;\n","import { useState, useEffect } from \"react\";\nimport queryString from \"query-string\";\nimport { Link } from \"react-router-dom\";\nimport Search from \"../components/forms/Search\";\nimport { searchListings } from \"../actions/hotel\";\nimport SmallCard from \"../components/cards/SmallCard\";\n\nconst SearchResult = () => {\n  // state\n  const [hotels, setHotels] = useState([]);\n  // when component mounts, get search params from url and use to send search query to backend\n  useEffect(() => {\n    const { location, date, bed } = queryString.parse(window.location.search);\n    if(window.localStorage.getItem('auth')){\n      const data = JSON.parse(window.localStorage.getItem('auth'))\n      searchListings( location, date, bed, data.user.email ).then((res) => {\n        setHotels(res.data);\n      });\n    }else{\n      console.log('auth not present')\n      searchListings( location, date, bed, null ).then((res) => {\n        setHotels(res.data);\n      });\n    }\n  }, [hotels,window.location.search]);\n\n  return (\n    <>\n      <div className=\"col\">\n        <br />\n        <Search />\n      </div>\n      <div className=\"container\">\n        <div className=\"row\">\n          {hotels.map((h) => (\n            <SmallCard key={h._id} h={h} />\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SearchResult;\n","// import those pages in App.js\n// then based on the path show each components using react-router components\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport TopNav from \"./components/TopNav\";\nimport PrivateRoute from \"./components/PrivateRoute\";\n// components\nimport Home from \"./booking/Home\";\nimport Login from \"./auth/Login\";\nimport Register from \"./auth/Register\";\nimport Dashboard from \"./user/Dashboard\";\nimport DashboardSeller from \"./user/DashboardSeller\";\nimport NewHotel from \"./hotels/NewHotel\";\nimport StripeCallback from \"./stripe/StripeCallback\";\nimport EditHotel from \"./hotels/EditHotel\";\nimport ViewHotel from \"./hotels/ViewHotel\";\nimport StripeSuccess from \"./stripe/StripeSuccess\";\nimport StripeCancel from \"./stripe/StripeCancel\";\nimport SearchResult from \"./hotels/SearchResult\";\n\n/**\n * Lets create TopNavigation/menu bar so that we can easily TopNavigate between pages\n * lets write it in App.js before we move it to its own component\n */\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <TopNav />\n      <ToastContainer position=\"top-center\" />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/register\" component={Register} />\n        <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n        <PrivateRoute\n          exact\n          path=\"/dashboard/seller\"\n          component={DashboardSeller}\n        />\n        <PrivateRoute exact path=\"/hotels/new\" component={NewHotel} />\n        <PrivateRoute\n          exact\n          path=\"/stripe/callback\"\n          component={StripeCallback}\n        />\n        <PrivateRoute exact path=\"/hotel/edit/:hotelId\" component={EditHotel} />\n        <Route exact path=\"/hotel/:hotelId\" component={ViewHotel} />\n        <PrivateRoute\n          exact\n          path=\"/stripe/success/:hotelId\"\n          component={StripeSuccess}\n        />\n        <PrivateRoute exact path=\"/stripe/cancel\" component={StripeCancel} />\n        <Route exact path=\"/search-result\" component={SearchResult} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","let userState;\n\nif (window.localStorage.getItem(\"auth\")) {\n  userState = JSON.parse(window.localStorage.getItem(\"auth\"));\n} else {\n  userState = null; // {}\n}\n\nexport const authReducer = (state = userState, action) => {\n  switch (action.type) {\n    case \"LOGGED_IN_USER\":\n      return { ...state, ...action.payload };\n    case \"LOGOUT\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from \"redux\";\nimport { authReducer } from \"./auth\";\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n});\n\nexport default rootReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"antd/dist/antd.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n// 1. import from react-redux and redux\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport rootReducer from \"./reducers\";\n\n// 2. create user reducer function\n// 3. combine multiple reducers\n// 4. create redux store\nconst store = createStore(rootReducer, composeWithDevTools());\n\n// 5.  provice redux store to the entire app\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}